"2","Error en gzfile(file, ""wb""): no se puede abrir la conexión
"
"0","#| message: false"
"0","#| warning: false"
"0","#| paged-print: false"
"0","# -------------------------------"
"0","# 4. Irregularidad (Ventas diarias)"
"0","# -------------------------------"
"0","set.seed(2024)"
"0","df_irregular <- data.frame("
"0","  fecha = seq.Date(as.Date(""2024-01-01""), by = ""day"", length.out = 180),"
"0","  ventas = 500 + cumsum(rnorm(180, mean = 0, sd = 3))  # Ruido acumulativo"
"0",") "
"0",""
"0","# Añadir eventos atípicos"
"0","df_irregular$ventas[50:55] <- df_irregular$ventas[50:55] + 80   # Promoción flash"
"0","df_irregular$ventas[120:125] <- df_irregular$ventas[120:125] - 60  # Fallo logístico"
"0",""
"0","ggplot(df_irregular, aes(x = fecha, y = ventas)) +"
"0","  geom_line(color = ""#9467bd"", linewidth = 0.7) +"
"0","  geom_point(data = df_irregular[c(50:55, 120:125), ], "
"0","             color = ""#d62728"", size = 2) +"
"0","  labs("
"0","    title = ""Irregularidad en Ventas Diarias"","
"0","    subtitle = ""Puntos rojos: eventos atípicos no explicados por patrones estructurales"","
"0","    x = ""Fecha"","
"0","    y = ""Ventas (unidades)"""
"0","  ) +"
"0","  scale_x_date(date_breaks = ""1 month"", date_labels = ""%b"") +"
"0","  theme_minimal()"
